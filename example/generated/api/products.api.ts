/**
 * Simple API Example
 * Minimal OpenAPI spec with one GET (users) and one POST (products)
 *
 * The version of the OpenAPI document: 1.0.0
 * 
 *
 * NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).
 * https://openapi-generator.tech
 * Do not edit the class manually.
 */
/* tslint:disable:no-unused-variable member-ordering */

import { Controller, Get, Post, Put, Delete, Patch, UsePipes, ValidationPipe, Body, Param, Query, Headers, Req, Res } from "@nestjs/common";
import { Request, Response } from 'express';
import { NewProductDto } from '../model/newProduct.dto';
import { ProductDto } from '../model/product.dto';

@Controller()
@UsePipes(ValidationPipe)
export abstract class ProductsApi {

  protected abstract createProduct(newProductDto: NewProductDto, request?: Request, response?: Response): ProductDto | Promise<ProductDto>;

  
    /**
     * Create a new product
     * 
     * @param newProductDto 
     */
    @CreateProductPath()
    private doCreateProduct(@Body() newProductDto: NewProductDto, @Req() request?: Request, @Res({ passthrough: true }) response?: Response): ProductDto | Promise<ProductDto> {
        if (newProductDto === null || newProductDto === undefined) {
            throw new Error('Required parameter newProductDto was null or undefined when calling createProduct.');
        }

      return this.createProduct(newProductDto, request, response);
    }

}

/**
* Path decorators to implement path automatically
*/
function CreateProductPath(): MethodDecorator {
    const path: string = "/products".replace(/\$\{encodeURIComponent\(\w+\((\w+)\)\)\}/g, ':$1');
    return Post(path);
}

